# üéØ –†–ï–®–ï–ù–ò–ï –ó–ê–î–ê–ß–ò: –°—Ç—Ä–æ–≥–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–æ–¥—É–ª—è holidays

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê –ü–û–õ–ù–û–°–¢–¨–Æ

–ú–æ–¥—É–ª—å —É—á—ë—Ç–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –≤ —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Ç–æ–ø–∏–∫–µ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –±–æ—Ç–∞.

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### 1. –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (`holidays.py`)

**–î–û:**
```python
@bot.message_handler(commands=['–≤—ã—Ö–æ–¥–Ω–æ–π'])
def holiday_request_handler(message):
    if not is_holidays_chat_and_thread(message):
        return  # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
    # –ª–æ–≥–∏–∫–∞...
```

**–ü–û–°–õ–ï:**
```python
@bot.message_handler(commands=['–≤—ã—Ö–æ–¥–Ω–æ–π'], func=lambda message: is_holidays_chat_and_thread(message))
def holiday_request_handler(message):
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–æ–æ–±—â–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
    # –ª–æ–≥–∏–∫–∞...
```

### 2. –ò–∑–æ–ª—è—Ü–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- ‚úÖ **–ö–æ–º–∞–Ω–¥—ã**: `/–≤—ã—Ö–æ–¥–Ω–æ–π`, `/–≤—ã—Ö`, `/–≤—Å–µ–≤—ã—Ö` - —Ç–æ–ª—å–∫–æ –≤ –Ω—É–∂–Ω–æ–º —á–∞—Ç–µ/—Ç–æ–ø–∏–∫–µ
- ‚úÖ **–ö–æ–ª–ª–±—ç–∫–∏**: –ö–Ω–æ–ø–∫–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è - —Ç–æ–ª—å–∫–æ –≤ –Ω—É–∂–Ω–æ–º —á–∞—Ç–µ  
- ‚úÖ **Debug-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è/–æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è

### 3. Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (`bot.py`)

```python
# Production —Ä–µ–∂–∏–º - debug –æ—Ç–∫–ª—é—á–µ–Ω
register_holiday_handlers(bot, debug_mode=False)

# Debug —Ä–µ–∂–∏–º - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
register_holiday_handlers(bot, debug_mode=True)
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã:

1. **`test_debug_holidays.py`** - –±–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
2. **`test_holidays_isolation.py`** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!
‚úÖ –ú–æ–¥—É–ª—å holidays —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —á–∞—Ç–µ/—Ç–æ–ø–∏–∫–µ  
‚úÖ –í –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–º–∞–Ω–¥—ã holidays –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

### –í —Ü–µ–ª–µ–≤–æ–º —Ç–æ–ø–∏–∫–µ (Chat ID: -1001956037680, Thread ID: 4):
- ‚úÖ `/–≤—ã—Ö–æ–¥–Ω–æ–π –ì–ì–ì–ì-–ú–ú-–î–î –ø—Ä–∏—á–∏–Ω–∞` - –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏
- ‚úÖ `/–≤—ã—Ö` - –ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥—É—â–∏—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö
- ‚úÖ `/–≤—Å–µ–≤—ã—Ö` - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö  
- ‚úÖ –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- ‚úÖ Debug-–æ—Ç–≤–µ—Ç—ã (–µ—Å–ª–∏ debug_mode=True)

### –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–æ–ø–∏–∫–∞—Ö/—á–∞—Ç–∞—Ö/–ª–∏—á–∫–µ:
- ‚ùå –ö–æ–º–∞–Ω–¥—ã holidays –ù–ï –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤–æ–æ–±—â–µ
- ‚ùå –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ù–ï –≤—ã–∑—ã–≤–∞—é—Ç—Å—è
- ‚ùå Holiday-–º–µ–Ω—é –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

## üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ò–ó–û–õ–Ø–¶–ò–Ø

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:
- **–ü—Ä–µ–¥–µ–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∞—è** –ø—Ä–æ–≤–µ—Ä–∫–∞ chat_id –∏ message_thread_id
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –Ω–µ—Ü–µ–ª–µ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è** –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –±–æ—Ç–∞

### Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:
- **Debug-—Ä–µ–∂–∏–º** –ª–µ–≥–∫–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `debug_mode=False`
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## üìñ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

–û–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª `CHAT_THREAD_INSTRUCTIONS.md` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ:
- –†–µ–∂–∏–º–∞—Ö —Ä–∞–±–æ—Ç—ã (production vs debug)
- –ì–∞—Ä–∞–Ω—Ç–∏—è—Ö –∏–∑–æ–ª—è—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ 100%:**

1. ‚úÖ **–°—Ç—Ä–æ–≥–∞—è –∏–∑–æ–ª—è—Ü–∏—è**: Holidays —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –Ω—É–∂–Ω–æ–º —Ç–æ–ø–∏–∫–µ
2. ‚úÖ **–ü–æ–ª–Ω–æ–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç  
3. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ø—ã—Ç–∫–∏ –Ω–µ—Ü–µ–ª–µ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
4. ‚úÖ **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: Debug-—Ä–µ–∂–∏–º –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
5. ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç
6. ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–∫—Ä—ã—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
7. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ú–æ–¥—É–ª—å holidays —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!**